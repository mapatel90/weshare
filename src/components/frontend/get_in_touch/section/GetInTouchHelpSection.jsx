"use client";
import React, { useEffect, useState } from "react";
import { apiGet } from "@/lib/api";

export default function GetInTouchHelpSection() {
  const [helpData, setHelpData] = useState(null);

  const fetchHelp = async () => {
    try {
      const response = await apiGet("/api/settings/");
      if (response?.data) {
        setHelpData(response.data);
      }
    } catch (error) {
      console.error("Error fetching help settings:", error);
    }
  };

  useEffect(() => {
    fetchHelp();
  }, []);

  return (
    <div className="col-lg-4 col-md-4 col-sm-12 help-col">
      <div className="help-box text-center">
        <div className="help-item my-1">
          <span className="icon d-inline-flex align-items-center justify-content-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
            >
              <g clipPath="url(#clip0_562_1230)">
                <path
                  d="M34.5841 5.62823H3.33252C1.49127 5.62823 0 7.12876 0 8.96075V28.9559C0 30.7988 1.50223 32.2884 3.33252 32.2884H34.5841C36.41 32.2884 37.9167 30.805 37.9167 28.9559V8.96075C37.9167 7.13202 36.4313 5.62823 34.5841 5.62823ZM34.1174 7.84991L21.3148 20.5851C20.6853 21.2146 19.8485 21.5612 18.9583 21.5612C18.0682 21.5612 17.2313 21.2145 16.5998 20.583L3.79922 7.84991H34.1174ZM2.22168 28.5037V9.41435L11.8222 18.9642L2.22168 28.5037ZM3.80063 30.0667L13.3973 20.531L15.0309 22.156C16.08 23.2051 17.4748 23.7828 18.9583 23.7828C20.4419 23.7828 21.8367 23.2051 22.8837 22.1581L24.5193 20.531L34.116 30.0667H3.80063ZM35.695 28.5037L26.0945 18.9642L35.695 9.41435V28.5037Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_562_1230">
                  <rect width="37.9167" height="37.9167" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </span>
          <p className="sub-text mt-2">{helpData?.site_email ? helpData.site_email : ""}</p>
        </div>
        <hr className="border border-dark opacity-100" />
        <div className="help-item my-1">
          <span className="icon d-inline-flex align-items-center justify-content-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
            >
              <g clipPath="url(#clip0_562_1242)">
                <path
                  d="M29.9685 23.4901C29.1922 22.6817 28.2558 22.2496 27.2634 22.2496C26.279 22.2496 25.3346 22.6737 24.5263 23.4821L21.9973 26.0031C21.7892 25.8911 21.5811 25.787 21.381 25.683C21.0929 25.5389 20.8208 25.4029 20.5887 25.2588C18.2197 23.7542 16.0668 21.7934 14.002 19.2563C13.0016 17.9918 12.3293 16.9274 11.8411 15.8469C12.4974 15.2467 13.1056 14.6224 13.6979 14.0222C13.922 13.7981 14.146 13.566 14.3701 13.3419C16.0508 11.6612 16.0508 9.48435 14.3701 7.80366L12.1852 5.61876C11.9371 5.37066 11.681 5.11456 11.4409 4.85845C10.9607 4.36225 10.4565 3.85004 9.93632 3.36984C9.16 2.60153 8.23162 2.19336 7.25522 2.19336C6.27882 2.19336 5.33443 2.60153 4.53411 3.36984L4.5181 3.38585L1.79699 6.13097C0.772568 7.15539 0.188328 8.4039 0.060276 9.8525C-0.131803 12.1895 0.556479 14.3663 1.0847 15.7909C2.38123 19.2884 4.31802 22.5297 7.2072 26.0031C10.7126 30.1888 14.9304 33.4942 19.7483 35.8231C21.5891 36.6955 24.0461 37.7279 26.7912 37.904C26.9593 37.912 27.1354 37.92 27.2954 37.92C29.1442 37.92 30.6968 37.2557 31.9133 35.9352C31.9213 35.9192 31.9373 35.9112 31.9453 35.8952C32.3615 35.3909 32.8417 34.9348 33.3459 34.4466C33.69 34.1184 34.0422 33.7743 34.3863 33.4141C35.1786 32.5898 35.5948 31.6294 35.5948 30.645C35.5948 29.6526 35.1706 28.7002 34.3623 27.8999L29.9685 23.4901ZM32.8337 31.9175C32.8257 31.9175 32.8257 31.9255 32.8337 31.9175C32.5216 32.2537 32.2014 32.5578 31.8573 32.8939C31.3371 33.3901 30.8089 33.9103 30.3127 34.4946C29.5043 35.3589 28.5519 35.7671 27.3034 35.7671C27.1834 35.7671 27.0553 35.7671 26.9353 35.7591C24.5583 35.607 22.3494 34.6787 20.6927 33.8863C16.1629 31.6934 12.1852 28.5802 8.87989 24.6345C6.15077 21.3452 4.32602 18.304 3.11753 15.0386C2.37322 13.0458 2.10111 11.4932 2.22116 10.0286C2.30119 9.09219 2.66134 8.31587 3.32561 7.6516L6.05473 4.92248C6.44689 4.55433 6.86306 4.35425 7.27123 4.35425C7.77543 4.35425 8.1836 4.65837 8.43971 4.91448L8.46372 4.93849C8.95192 5.39467 9.41611 5.86687 9.90431 6.37107C10.1524 6.62718 10.4085 6.88328 10.6646 7.14739L12.8495 9.33228C13.6979 10.1806 13.6979 10.965 12.8495 11.8133C12.6174 12.0454 12.3933 12.2775 12.1612 12.5016C11.489 13.1899 10.8487 13.8301 10.1524 14.4544C10.1364 14.4704 10.1204 14.4784 10.1124 14.4944C9.42411 15.1827 9.55216 15.855 9.69622 16.3111L9.72023 16.3832C10.2885 17.7597 11.0888 19.0563 12.3053 20.6009L12.3133 20.6089C14.5222 23.33 16.8511 25.4509 19.4202 27.0755C19.7483 27.2836 20.0845 27.4517 20.4046 27.6118C20.6927 27.7558 20.9648 27.8919 21.1969 28.0359C21.2289 28.0519 21.261 28.076 21.293 28.092C21.5651 28.228 21.8212 28.292 22.0853 28.292C22.7496 28.292 23.1657 27.8759 23.3018 27.7398L26.0389 25.0027C26.311 24.7306 26.7432 24.4025 27.2474 24.4025C27.7436 24.4025 28.1518 24.7146 28.3999 24.9867L28.4159 25.0027L32.8257 29.4125C33.65 30.2288 33.65 31.0692 32.8337 31.9175ZM20.4926 9.02016C22.5895 9.3723 24.4943 10.3647 26.0149 11.8853C27.5355 13.406 28.5199 15.3107 28.8801 17.4076C28.9681 17.9358 29.4243 18.304 29.9445 18.304C30.0085 18.304 30.0646 18.296 30.1286 18.2879C30.7208 18.1919 31.113 17.6317 31.0169 17.0394C30.5848 14.5024 29.3843 12.1895 27.5515 10.3567C25.7188 8.52395 23.4058 7.32346 20.8688 6.89129C20.2766 6.79525 19.7243 7.18741 19.6203 7.77165C19.5162 8.35588 19.9004 8.92412 20.4926 9.02016ZM37.8758 16.7273C37.1635 12.5496 35.1947 8.74804 32.1694 5.72281C29.1442 2.69757 25.3426 0.728763 21.1649 0.0164719C20.5807 -0.0875706 20.0284 0.312593 19.9244 0.896832C19.8284 1.48907 20.2205 2.0413 20.8128 2.14534C24.5423 2.7776 27.9437 4.54633 30.6488 7.24343C33.3539 9.94854 35.1146 13.3499 35.7469 17.0795C35.8349 17.6077 36.2911 17.9758 36.8113 17.9758C36.8753 17.9758 36.9314 17.9678 36.9954 17.9598C37.5796 17.8718 37.9798 17.3116 37.8758 16.7273Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_562_1242">
                  <rect width="37.92" height="37.92" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </span>
          <p className="sub-text mt-2">{helpData?.site_phone ? helpData.site_phone : ""}</p>
        </div>
      </div>
    </div>
  );
}
